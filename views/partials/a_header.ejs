
<style>
.top-bar {
  background-color: #001c48;
  color: white;
  padding: 10px;
  text-align: center;
  font-size: 14px;
}

.top-bar a {
  color: #00aaff;
  text-decoration: none;
}

/* Navigation Bar */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 24px;
  background-color: #ffffff;
  border-bottom: 1px solid #ddd;
}

.navbar .logo {
  font-size: 20px;
  font-weight: bold;
  color: #066da5;
  margin: 0;
  padding: 0;
  line-height: 1.2;
  white-space: nowrap;     /* í•œ ì¤„ ìœ ì§€ */
  line-height: 1;          /* ì¤„ ê°„ê²© ì¶•ì†Œ */
}

.logo-text {
  white-space: nowrap;  /* ì¤„ë°”ê¿ˆ ê¸ˆì§€ */
}

.navbar .menu {
  display: flex;
  gap: 20px;
}

.navbar .menu a {
  text-decoration: none;
  color: #333;
  font-size: 16px;
  position: relative;
}

/* ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ì˜ì—­ */
.navbar .auth-buttons {
  display: flex;
  gap: 10px;
  align-items: center;
}

.auth-buttons .btn-signin {
  display: inline-block;
  padding: 8px 16px;
  background-color: white;
  border: 1px solid #066da5;
  color: #066da5;
  border-radius: 4px;
  font-size: 14px;
  text-decoration: none;
  font-weight: bold;
  transition: background-color 0.3s ease;
}

.auth-buttons .btn-signin:hover {
  background-color: #e6f3fb;
}

.auth-buttons .btn-get-started {
  padding: 4px 8px;
  background-color: #066da5;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.auth-buttons .btn-get-started:hover {
  background-color: #055c8a;
}

  .username-blue {
    color: #00aaff;
    font-weight: bold;
  }

</style>

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title><%= typeof title !== 'undefined' ? title + ' - ARGUS US INC.' : 'ARGUS US INC.' %></title>
  <link rel="stylesheet" href="/style.css">
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
</head>
<body>

  <!-- Top Bar -->
  <div class="top-bar">
    2055 E. 51st Street, Vernon, CA 90058&nbsp;&nbsp;&nbsp;&nbsp;| <a href="#">Read More â†’</a>
  </div>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo">ARGUS US INC.</div>

    <% if (isAuthenticated) { %>
    <div class="menu">
      <a href="/">General</a>
      <a href="/employees">employees</a>
      <a href="/payroll">paylist</a>
      <a href="#">Support</a>
      <a href="#">Blog</a>
      <a href="#">Company</a>
      <a href="/import_an">Anmiwha</a>
      <a href="/import_vendor">Vendor</a>
      <a href="/test01">Test01</a>
      <a href="/test02">Test02</a>
      <a href="/test03">Test03</a>
      <a href="/photo_admin">Photo</a>
      <a href="/music_admin">music</a>
    </div>
    <% } %>

    <div class="auth-buttons">
      <% if (isAuthenticated) { %>
        <span class="btn-welcome">
          Welcome,ğŸ‘¤ <span class="username-blue"><%= typeof user !== 'undefined' ? user.username : 'User' %></span>! (<%= user.role %>)
        </span>
        <a href="/logout" class="btn-signin">Log out</a>
        <a href="/register" class="btn-signin">Register</a>
      <% } else { %>
        <a href="/login" class="btn-signin">Log in</a>
        <a href="/register" class="btn-signin">Register</a>
      <% } %>
    </div>
  </nav>

  <script>
    // ===== ìë™ ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ ===== \\
    let timer, warningTimer;
  const inactivityLimit = 15 * 60 * 1000; // 15ë¶„
  const warningTime = 1 * 60 * 1000; // 1ë¶„ ì „ ê²½ê³ 

  function resetTimers() {
    clearTimeout(timer);
    clearTimeout(warningTimer);

    // 14ë¶„ í›„ ê²½ê³ ì°½ ë„ìš°ê¸°
    warningTimer = setTimeout(showWarning, inactivityLimit - warningTime);

    // 15ë¶„ í›„ ìë™ ë¡œê·¸ì•„ì›ƒ
    timer = setTimeout(() => {
      alert('ì„¸ì…˜ì´ ë§Œë£Œë˜ì–´ ë¡œê·¸ì•„ì›ƒë©ë‹ˆë‹¤.');
      window.location.href = '/logout';
    }, inactivityLimit);
  }

  function showWarning() {
    const extend = confirm('ê³§ ìë™ ë¡œê·¸ì•„ì›ƒë©ë‹ˆë‹¤.\nì„¸ì…˜ì„ ì—°ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');
    if (extend) {
      resetTimers(); // ì‚¬ìš©ìê°€ [ì—°ì¥] ì„ íƒ ì‹œ íƒ€ì´ë¨¸ ë¦¬ì…‹
    }
  }

  // í˜ì´ì§€ ë¡œë”© ë° ì‚¬ìš©ì í™œë™ ê°ì§€
  window.onload = resetTimers;
  document.onmousemove = resetTimers;
  document.onkeypress = resetTimers;
  </script>